import ChartWithInsight from "@/components/chart-with-insight";
import {
  ActivationGraduation,
  Graduation,
  CustomerSatisfication,
  Metrics,
  GraduationBySprint,
} from "@/components/chart-blocks";
import CountryLearnersChart from "@/components/chart-blocks/charts/country-learners/chart";
import Container from "@/components/container";

export default function Home() {
  return (
    <div>
      {/* Metrics Section with increased height and insight */}
      <div className="metrics-section mb-6 min-h-[150px]">
        <Metrics />
        <p className="mt-3 text-sm text-gray-400 font-normal max-w-xl mx-auto">
          ALX shows strong front-end engagement, with activation exceeding target by +4%. More than half (59%) of activated learners progress to graduation, indicating a solid but improvable retention pipeline. Graduation fell slightly below target (-2%), suggesting a drop-off in the later stages of the learner journey.
        </p>
      </div>

      {/* Top row — 2 columns */}
      <div className="grid grid-cols-1 divide-y border-b border-border laptop:grid-cols-2 laptop:divide-x laptop:divide-y-0 laptop:divide-border">
        <Container className="py-4 laptop:col-span-1">
          <ChartWithInsight insight="All programs experienced a decline in graduation rates from Sprint 1 to Sprint 2. AiCE dropped from 42% → 35%, PF from 48% → 39%, and VA from 61% → 55%. Despite VA maintaining the highest performance, the consistent dip across programs suggests a broader cross-program challenge with learner persistence in Sprint 2.">
            <GraduationBySprint />
          </ChartWithInsight>
        </Container>
        <Container className="py-4 laptop:col-span-1">
          <ChartWithInsight insight="Nigeria and Kenya contribute more than half of ALX's total activated and graduated learners, showing they are the core engines of scale. However, when adjusting for their large volumes, Rwanda, Ghana, and South Africa deliver the strongest efficiency, achieving high graduation relative to their activation numbers. Morocco and Rest of Africa have the weakest conversion, indicating significant drop-offs after activation.">
            <ActivationGraduation />
          </ChartWithInsight>
        </Container>
      </div>

      {/* Bottom row — 3 columns */}
      <div className="grid grid-cols-1 divide-y border-b border-border laptop:grid-cols-3 laptop:divide-x laptop:divide-y-0 laptop:divide-border">
        <Container className="py-4 laptop:col-span-1">
          <ChartWithInsight insight="Nigeria and Kenya together account for nearly half of all paid learners, making them ALX's strongest revenue-driving regions. Ghana, Morocco, and Rest of Africa form a strong mid-tier, while Rwanda and Ethiopia contribute smaller volumes but maintain steady participation. South Africa and Egypt show moderate but consistent contributions, indicating stable but slower-scaling markets. We can protect and deepen engagement in these two top countries, as retention or payment disruptions here significantly impact overall revenue.">
            <CountryLearnersChart />
          </ChartWithInsight>
        </Container>
        <Container className="py-4 laptop:col-span-1">
          <ChartWithInsight insight="Learners report exceptionally high satisfaction and strong likelihood to recommend ALX, indicating that the program experience is resonating deeply across regions and program types. Even in programs where retention dips occur, the learners who complete the journey rate their experience very positively.">
            <CustomerSatisfication />
          </ChartWithInsight>
        </Container>
        <Container className="py-4 laptop:col-span-1">
          <ChartWithInsight insight="Professional Foundations is the largest contributor to ALX's total graduate volume, producing 29,435 graduates, followed by the Virtual Assistant program with 21,069 graduates. AiCE contributes a smaller but growing pool with 2,831 graduates. This reflects PF's role as the mandatory gateway into tech programs, while VA stands out as the strongest non-mandatory program in terms of learner outcomes. AiCE remains niche but shows potential as an emerging specialization pipeline.">
            <Graduation />
          </ChartWithInsight>
        </Container>
      </div>
    </div>
  );
}
